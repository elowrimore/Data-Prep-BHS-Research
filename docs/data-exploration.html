<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Data Exploration | Data Preperation for Bighorn Sheep Research Project</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="generator" content="bookdown 0.41 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Data Exploration | Data Preperation for Bighorn Sheep Research Project" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Data Exploration | Data Preperation for Bighorn Sheep Research Project" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  

<meta name="author" content="Emily Lowrimore" />


<meta name="date" content="2024-12-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-cleaning.html"/>
<link rel="next" href="conclusion.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Preperation for Bighorn Sheep Project</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> <strong>Background</strong></a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#purpose-of-this-book"><i class="fa fa-check"></i><b>1.1</b> Purpose of This Book</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#ecological-background-of-study"><i class="fa fa-check"></i><b>1.2</b> Ecological Background of Study</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#study-system"><i class="fa fa-check"></i><b>1.3</b> Study System</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="building-a-database.html"><a href="building-a-database.html"><i class="fa fa-check"></i><b>2</b> <strong>Building a Database</strong></a>
<ul>
<li class="chapter" data-level="2.1" data-path="building-a-database.html"><a href="building-a-database.html#organizing-data-with-relational-databases"><i class="fa fa-check"></i><b>2.1</b> Organizing Data with Relational Databases</a></li>
<li class="chapter" data-level="2.2" data-path="building-a-database.html"><a href="building-a-database.html#database-design"><i class="fa fa-check"></i><b>2.2</b> Database Design</a></li>
<li class="chapter" data-level="2.3" data-path="building-a-database.html"><a href="building-a-database.html#creating-a-database"><i class="fa fa-check"></i><b>2.3</b> Creating a Database</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="building-a-database.html"><a href="building-a-database.html#install-and-load-required-packages"><i class="fa fa-check"></i><b>2.3.1</b> Install and Load Required Packages</a></li>
<li class="chapter" data-level="2.3.2" data-path="building-a-database.html"><a href="building-a-database.html#link-database"><i class="fa fa-check"></i><b>2.3.2</b> Link Database</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="building-a-database.html"><a href="building-a-database.html#populating-a-database"><i class="fa fa-check"></i><b>2.4</b> Populating a Database</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="building-a-database.html"><a href="building-a-database.html#sheep-table"><i class="fa fa-check"></i><b>2.4.1</b> <strong>Sheep Table</strong></a></li>
<li class="chapter" data-level="2.4.2" data-path="building-a-database.html"><a href="building-a-database.html#observations-table"><i class="fa fa-check"></i><b>2.4.2</b> <strong>Observations Table</strong></a></li>
<li class="chapter" data-level="2.4.3" data-path="building-a-database.html"><a href="building-a-database.html#mortalities-table"><i class="fa fa-check"></i><b>2.4.3</b> <strong>Mortalities Table</strong></a></li>
<li class="chapter" data-level="2.4.4" data-path="building-a-database.html"><a href="building-a-database.html#lambs-table"><i class="fa fa-check"></i><b>2.4.4</b> <strong>Lambs Table</strong></a></li>
<li class="chapter" data-level="2.4.5" data-path="building-a-database.html"><a href="building-a-database.html#resight-table"><i class="fa fa-check"></i><b>2.4.5</b> <strong>Resight Table</strong></a></li>
<li class="chapter" data-level="2.4.6" data-path="building-a-database.html"><a href="building-a-database.html#group-behavior-table"><i class="fa fa-check"></i><b>2.4.6</b> <strong>Group Behavior Table</strong></a></li>
<li class="chapter" data-level="2.4.7" data-path="building-a-database.html"><a href="building-a-database.html#collars-table"><i class="fa fa-check"></i><b>2.4.7</b> <strong>Collars Table</strong></a></li>
<li class="chapter" data-level="2.4.8" data-path="building-a-database.html"><a href="building-a-database.html#spatial-data-table"><i class="fa fa-check"></i><b>2.4.8</b> <strong>Spatial Data Table</strong></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-cleaning.html"><a href="data-cleaning.html"><i class="fa fa-check"></i><b>3</b> <strong>Data Cleaning</strong></a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-cleaning.html"><a href="data-cleaning.html#tidy-data"><i class="fa fa-check"></i><b>3.1</b> Tidy Data</a></li>
<li class="chapter" data-level="3.2" data-path="data-cleaning.html"><a href="data-cleaning.html#the-tidyverse"><i class="fa fa-check"></i><b>3.2</b> The Tidyverse</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-cleaning.html"><a href="data-cleaning.html#mutate"><i class="fa fa-check"></i><b>3.2.1</b> Mutate</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-cleaning.html"><a href="data-cleaning.html#filter"><i class="fa fa-check"></i><b>3.2.2</b> Filter</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-cleaning.html"><a href="data-cleaning.html#case_when"><i class="fa fa-check"></i><b>3.2.3</b> Case_when()</a></li>
<li class="chapter" data-level="3.2.4" data-path="data-cleaning.html"><a href="data-cleaning.html#select"><i class="fa fa-check"></i><b>3.2.4</b> Select</a></li>
<li class="chapter" data-level="3.2.5" data-path="data-cleaning.html"><a href="data-cleaning.html#arrange"><i class="fa fa-check"></i><b>3.2.5</b> Arrange</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-exploration.html"><a href="data-exploration.html"><i class="fa fa-check"></i><b>4</b> <strong>Data Exploration</strong></a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-exploration.html"><a href="data-exploration.html#summary-statistics"><i class="fa fa-check"></i><b>4.1</b> Summary Statistics</a></li>
<li class="chapter" data-level="4.2" data-path="data-exploration.html"><a href="data-exploration.html#data-vizualizations"><i class="fa fa-check"></i><b>4.2</b> Data Vizualizations</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="data-exploration.html"><a href="data-exploration.html#simple-plots"><i class="fa fa-check"></i><b>4.2.1</b> Simple Plots</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-exploration.html"><a href="data-exploration.html#exploring-data"><i class="fa fa-check"></i><b>4.3</b> Exploring Data</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="data-exploration.html"><a href="data-exploration.html#relationship-between-group-size-and-behavior"><i class="fa fa-check"></i><b>4.3.1</b> <strong>Relationship Between Group Size and Behavior</strong></a></li>
<li class="chapter" data-level="4.3.2" data-path="data-exploration.html"><a href="data-exploration.html#survival"><i class="fa fa-check"></i><b>4.3.2</b> <strong>Survival</strong></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>5</b> <strong>Conclusion</strong></a>
<ul>
<li class="chapter" data-level="5.1" data-path="conclusion.html"><a href="conclusion.html#references"><i class="fa fa-check"></i><b>5.1</b> <strong>References</strong></a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Preperation for Bighorn Sheep Research Project</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-exploration" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> <strong>Data Exploration</strong><a href="data-exploration.html#data-exploration" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Data exploration is a crucial step in any research process, providing insights into the relationships, patterns, and potential anomalies within a dataset. Before conducting formal analyses, exploring data helps to identify trends, assess distributions, and ensure the quality and consistency of the data. By exploring the data visually, you can build an intuitive understanding of the dataset, ultimately leading to more robust and informed analyses. Below are several examples of how one can explore their data.</p>
<p><em>*Imporant note: I have not entered all of my data and am only using a subset. Results from the code in this chapter may not represent the dataset accurately.</em></p>
<hr />
<p>Before exploring the data, ensure the <strong>database and applicable packages are loaded correctly</strong></p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="data-exploration.html#cb76-1" tabindex="-1"></a><span class="co">#load packages</span></span>
<span id="cb76-2"><a href="data-exploration.html#cb76-2" tabindex="-1"></a><span class="fu">library</span>(DBI)</span>
<span id="cb76-3"><a href="data-exploration.html#cb76-3" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb76-4"><a href="data-exploration.html#cb76-4" tabindex="-1"></a></span>
<span id="cb76-5"><a href="data-exploration.html#cb76-5" tabindex="-1"></a><span class="co">#load database</span></span>
<span id="cb76-6"><a href="data-exploration.html#cb76-6" tabindex="-1"></a>jd_sheep_db <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(RSQLite<span class="sc">::</span><span class="fu">SQLite</span>(),</span>
<span id="cb76-7"><a href="data-exploration.html#cb76-7" tabindex="-1"></a>                         <span class="st">&quot;../../../Project/Data/raw/Database/jd_sheep.db&quot;</span>)</span>
<span id="cb76-8"><a href="data-exploration.html#cb76-8" tabindex="-1"></a></span>
<span id="cb76-9"><a href="data-exploration.html#cb76-9" tabindex="-1"></a><span class="co">#load tables</span></span>
<span id="cb76-10"><a href="data-exploration.html#cb76-10" tabindex="-1"></a>sheep <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(jd_sheep_db, </span>
<span id="cb76-11"><a href="data-exploration.html#cb76-11" tabindex="-1"></a>                    <span class="st">&quot;SELECT * FROM sheep;&quot;</span>)</span>
<span id="cb76-12"><a href="data-exploration.html#cb76-12" tabindex="-1"></a></span>
<span id="cb76-13"><a href="data-exploration.html#cb76-13" tabindex="-1"></a>observations <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(jd_sheep_db, </span>
<span id="cb76-14"><a href="data-exploration.html#cb76-14" tabindex="-1"></a>                           <span class="st">&quot;SELECT * FROM observations;&quot;</span>)</span>
<span id="cb76-15"><a href="data-exploration.html#cb76-15" tabindex="-1"></a></span>
<span id="cb76-16"><a href="data-exploration.html#cb76-16" tabindex="-1"></a>mortalities <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(jd_sheep_db, </span>
<span id="cb76-17"><a href="data-exploration.html#cb76-17" tabindex="-1"></a>                          <span class="st">&quot;SELECT * FROM mortalities;&quot;</span>)</span>
<span id="cb76-18"><a href="data-exploration.html#cb76-18" tabindex="-1"></a></span>
<span id="cb76-19"><a href="data-exploration.html#cb76-19" tabindex="-1"></a>lambs <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(jd_sheep_db, </span>
<span id="cb76-20"><a href="data-exploration.html#cb76-20" tabindex="-1"></a>                    <span class="st">&quot;SELECT * FROM lambs;&quot;</span>)</span>
<span id="cb76-21"><a href="data-exploration.html#cb76-21" tabindex="-1"></a></span>
<span id="cb76-22"><a href="data-exploration.html#cb76-22" tabindex="-1"></a>resight <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(jd_sheep_db, </span>
<span id="cb76-23"><a href="data-exploration.html#cb76-23" tabindex="-1"></a>                      <span class="st">&quot;SELECT * FROM resight;&quot;</span>)</span>
<span id="cb76-24"><a href="data-exploration.html#cb76-24" tabindex="-1"></a></span>
<span id="cb76-25"><a href="data-exploration.html#cb76-25" tabindex="-1"></a>group_behavior <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(jd_sheep_db, </span>
<span id="cb76-26"><a href="data-exploration.html#cb76-26" tabindex="-1"></a>                             <span class="st">&quot;SELECT * FROM group_behavior;&quot;</span>)</span>
<span id="cb76-27"><a href="data-exploration.html#cb76-27" tabindex="-1"></a></span>
<span id="cb76-28"><a href="data-exploration.html#cb76-28" tabindex="-1"></a>collars <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(jd_sheep_db, </span>
<span id="cb76-29"><a href="data-exploration.html#cb76-29" tabindex="-1"></a>                      <span class="st">&quot;SELECT * FROM collars;&quot;</span>)</span>
<span id="cb76-30"><a href="data-exploration.html#cb76-30" tabindex="-1"></a></span>
<span id="cb76-31"><a href="data-exploration.html#cb76-31" tabindex="-1"></a>spatial_data <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(jd_sheep_db, </span>
<span id="cb76-32"><a href="data-exploration.html#cb76-32" tabindex="-1"></a>                           <span class="st">&quot;SELECT * FROM spatial_data;&quot;</span>)</span></code></pre></div>
<hr />
<div id="summary-statistics" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Summary Statistics<a href="data-exploration.html#summary-statistics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A good first step in exploring data often involves calculating summary statistics. These provide a concise numerical overview of key aspects of the data, such as measures of central tendency (e.g., mean, median) and variability (e.g., standard deviation, range). Summary statistics are particularly useful for comparing groups or understanding distributions within the dataset, serving as a foundation for further exploration and analysis.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="data-exploration.html#cb77-1" tabindex="-1"></a><span class="co">#create a table that summarizes the minimum, maximum, and mean of sheep observed in a group, calculated as a group total as well as for each age-sex class</span></span>
<span id="cb77-2"><a href="data-exploration.html#cb77-2" tabindex="-1"></a>group_summary <span class="ot">&lt;-</span> observations <span class="sc">%&gt;%</span></span>
<span id="cb77-3"><a href="data-exploration.html#cb77-3" tabindex="-1"></a>  <span class="fu">select</span>(total, </span>
<span id="cb77-4"><a href="data-exploration.html#cb77-4" tabindex="-1"></a>         ewes, </span>
<span id="cb77-5"><a href="data-exploration.html#cb77-5" tabindex="-1"></a>         lambs, </span>
<span id="cb77-6"><a href="data-exploration.html#cb77-6" tabindex="-1"></a>         year_ewes, </span>
<span id="cb77-7"><a href="data-exploration.html#cb77-7" tabindex="-1"></a>         year_rams, </span>
<span id="cb77-8"><a href="data-exploration.html#cb77-8" tabindex="-1"></a>         rams) <span class="sc">%&gt;%</span></span>
<span id="cb77-9"><a href="data-exploration.html#cb77-9" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">everything</span>(),</span>
<span id="cb77-10"><a href="data-exploration.html#cb77-10" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">mean =</span> <span class="cf">function</span>(x) <span class="fu">mean</span>(x),</span>
<span id="cb77-11"><a href="data-exploration.html#cb77-11" tabindex="-1"></a>           <span class="at">min =</span> <span class="cf">function</span>(x) <span class="fu">min</span>(x),</span>
<span id="cb77-12"><a href="data-exploration.html#cb77-12" tabindex="-1"></a>           <span class="at">max =</span> <span class="cf">function</span>(x) <span class="fu">max</span>(x)),</span>
<span id="cb77-13"><a href="data-exploration.html#cb77-13" tabindex="-1"></a>      <span class="at">.names =</span> <span class="st">&quot;{col}_{fn}&quot;</span></span>
<span id="cb77-14"><a href="data-exploration.html#cb77-14" tabindex="-1"></a>    )</span>
<span id="cb77-15"><a href="data-exploration.html#cb77-15" tabindex="-1"></a>  )</span>
<span id="cb77-16"><a href="data-exploration.html#cb77-16" tabindex="-1"></a></span>
<span id="cb77-17"><a href="data-exploration.html#cb77-17" tabindex="-1"></a>group_summary</span></code></pre></div>
<pre><code>##   total_mean total_min total_max ewes_mean ewes_min ewes_max lambs_mean
## 1   22.91667         2        60    14.125        1       34      7.375
##   lambs_min lambs_max year_ewes_mean year_ewes_min year_ewes_max year_rams_mean
## 1         0        26       1.166667             0             6      0.2083333
##   year_rams_min year_rams_max  rams_mean rams_min rams_max
## 1             0             1 0.04166667        0        1</code></pre>
<hr />
</div>
<div id="data-vizualizations" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Data Vizualizations<a href="data-exploration.html#data-vizualizations" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In R, <code>ggplot</code> is one of the most powerful and flexible packages for creating high-quality plots. Based on the Grammar of Graphics, <code>ggplot</code> allows users to build plots layer by layer, providing full control over the appearance and components of the visualizations. <code>ggplot</code> is great both for creating rudimentary plots used to explore your data, as well as detailed and beautiful plots demonstrating results from analyses.</p>
<hr />
<div id="simple-plots" class="section level3 hasAnchor" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Simple Plots<a href="data-exploration.html#simple-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Here’s a simple example that demonstrates to build-on structure of ggplot using <code>geoom_point</code> to create a scatter plot of ewes vs lambs in groups.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="data-exploration.html#cb79-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> observations, <span class="co">#table containing desired variables</span></span>
<span id="cb79-2"><a href="data-exploration.html#cb79-2" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> lambs, <span class="co">#defining axis</span></span>
<span id="cb79-3"><a href="data-exploration.html#cb79-3" tabindex="-1"></a>                     <span class="at">y =</span> ewes)) <span class="sc">+</span></span>
<span id="cb79-4"><a href="data-exploration.html#cb79-4" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">col =</span> <span class="st">&quot;darkmagenta&quot;</span>) <span class="sc">+</span> <span class="co">#plot type, add color</span></span>
<span id="cb79-5"><a href="data-exploration.html#cb79-5" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Number of Lambs&quot;</span>, <span class="co">#adding labels</span></span>
<span id="cb79-6"><a href="data-exploration.html#cb79-6" tabindex="-1"></a>      <span class="at">y =</span> <span class="st">&quot;Number of Ewes&quot;</span>) <span class="sc">+</span></span>
<span id="cb79-7"><a href="data-exploration.html#cb79-7" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="co">#choosing theme of plot</span></span></code></pre></div>
<p><img src="_main_files/figure-html/scatterplot-example-1.png" width="672" /></p>
<hr />
<p>Here is another example, but this time creating a histogram of maximum body temperature of sheep during capture using <code>geom_historgram</code>. Overheating is a common issue for bighorn sheep during capture, and as such, there are several mitigation tactics we have on hand to reduce heat stress to the animals. For reference, mitigation efforts usually begin if the animal reaches 106 F and will increase in rigor if the sheep’s temperature continues to climb.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="data-exploration.html#cb80-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> sheep,</span>
<span id="cb80-2"><a href="data-exploration.html#cb80-2" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> temp)) <span class="sc">+</span></span>
<span id="cb80-3"><a href="data-exploration.html#cb80-3" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb80-4"><a href="data-exploration.html#cb80-4" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Maximum Body Temperature (F)&quot;</span>)</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`.
## Pick better value with `binwidth`.</code></pre>
<p><img src="_main_files/figure-html/historgram-example-1.png" width="672" /></p>
<hr />
</div>
</div>
<div id="exploring-data" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Exploring Data<a href="data-exploration.html#exploring-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="relationship-between-group-size-and-behavior" class="section level3 hasAnchor" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> <strong>Relationship Between Group Size and Behavior</strong><a href="data-exploration.html#relationship-between-group-size-and-behavior" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Through this research, I hope to uncover the relationship between survival and group size. I hypothesize that as group size increases survival of both lambs and adult ewes will also increase. A biological mechanism that could explain this relationship is the level of vigilance a group provides. I am curious about the relationship between total group size and the number of animals in each group performing vigilant behavior.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="data-exploration.html#cb82-1" tabindex="-1"></a><span class="co"># Join the observations and group_behavior tables, then plot the relationship</span></span>
<span id="cb82-2"><a href="data-exploration.html#cb82-2" tabindex="-1"></a>observations <span class="sc">%&gt;%</span></span>
<span id="cb82-3"><a href="data-exploration.html#cb82-3" tabindex="-1"></a>  <span class="fu">left_join</span>(group_behavior, <span class="at">by =</span> <span class="st">&quot;group_id&quot;</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb82-4"><a href="data-exploration.html#cb82-4" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> total, </span>
<span id="cb82-5"><a href="data-exploration.html#cb82-5" tabindex="-1"></a>                       <span class="at">y =</span> vigilant)) <span class="sc">+</span>  </span>
<span id="cb82-6"><a href="data-exploration.html#cb82-6" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">&quot;navyblue&quot;</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb82-7"><a href="data-exploration.html#cb82-7" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Group Size&quot;</span>,</span>
<span id="cb82-8"><a href="data-exploration.html#cb82-8" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Count of Vigilant Animals&quot;</span>,</span>
<span id="cb82-9"><a href="data-exploration.html#cb82-9" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;Group Size vs. Vigilance&quot;</span>) <span class="sc">+</span></span>
<span id="cb82-10"><a href="data-exploration.html#cb82-10" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/groupsize-vigilant-1.png" width="672" /></p>
<p>There doesn’t seem to be a strong relationship here. One of the benefits of a larger group is that individuals can relax their vigilance, while still benefiting from the heightened awareness of others, this is known as the “many eyes hypothesis.” I’m curious about the relationship between group size and foraging behavior. But I might as well plot the proportion of animals performing each behavior in the group to get a full picture of how behavior is distributed among individuals in a group.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="data-exploration.html#cb83-1" tabindex="-1"></a><span class="co">#to do this, I will need to resahpe the data into long format to get a count for each behavior before plotting</span></span>
<span id="cb83-2"><a href="data-exploration.html#cb83-2" tabindex="-1"></a>observations <span class="sc">%&gt;%</span></span>
<span id="cb83-3"><a href="data-exploration.html#cb83-3" tabindex="-1"></a>  <span class="fu">left_join</span>(group_behavior, <span class="at">by =</span> <span class="st">&quot;group_id&quot;</span>) <span class="sc">%&gt;%</span>  <span class="co">#join the tables</span></span>
<span id="cb83-4"><a href="data-exploration.html#cb83-4" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(foraging, </span>
<span id="cb83-5"><a href="data-exploration.html#cb83-5" tabindex="-1"></a>                        vigilant, </span>
<span id="cb83-6"><a href="data-exploration.html#cb83-6" tabindex="-1"></a>                        traveling, </span>
<span id="cb83-7"><a href="data-exploration.html#cb83-7" tabindex="-1"></a>                        bedded),</span>
<span id="cb83-8"><a href="data-exploration.html#cb83-8" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&quot;behavior&quot;</span>, </span>
<span id="cb83-9"><a href="data-exploration.html#cb83-9" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;count&quot;</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb83-10"><a href="data-exploration.html#cb83-10" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> total, </span>
<span id="cb83-11"><a href="data-exploration.html#cb83-11" tabindex="-1"></a>                       <span class="at">y =</span> count, </span>
<span id="cb83-12"><a href="data-exploration.html#cb83-12" tabindex="-1"></a>                       <span class="at">color =</span> behavior)) <span class="sc">+</span></span>
<span id="cb83-13"><a href="data-exploration.html#cb83-13" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span>  </span>
<span id="cb83-14"><a href="data-exploration.html#cb83-14" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Group Size vs. Behavioral Counts&quot;</span>,</span>
<span id="cb83-15"><a href="data-exploration.html#cb83-15" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Group Size&quot;</span>,</span>
<span id="cb83-16"><a href="data-exploration.html#cb83-16" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Count of Behavior&quot;</span>,</span>
<span id="cb83-17"><a href="data-exploration.html#cb83-17" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">&quot;Behavior&quot;</span>) <span class="sc">+</span></span>
<span id="cb83-18"><a href="data-exploration.html#cb83-18" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/groupsize-behavior-1.png" width="672" /></p>
<p>I find it interesting that vigilance seems to stay somewhat constant, despite the change in group size. I wonder if there is some type of threshold effect of “maximum vigilance required” to reduce risk and after that threshold is reached, vigilant behavior is no longer worth the sacrifice of energy that could be spent on another behavior. That would be a really cool relationship to observe!</p>
<hr />
</div>
<div id="survival" class="section level3 hasAnchor" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> <strong>Survival</strong><a href="data-exploration.html#survival" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Another key objective of this research is to determine survival rates of both lambs and adult ewes. I want to explore the counts of total ewes and lambs alive vs. dead. Because this data is stored in multiple tables and not necessarily in the format need to count, it will require a bit of manipulation before I can plot these data.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="data-exploration.html#cb84-1" tabindex="-1"></a>sheep <span class="sc">%&gt;%</span></span>
<span id="cb84-2"><a href="data-exploration.html#cb84-2" tabindex="-1"></a>  <span class="fu">left_join</span>(lambs, <span class="at">by =</span> <span class="st">&quot;sheep_id&quot;</span>) <span class="sc">%&gt;%</span>  <span class="co">#join lamb data with individual sheep data</span></span>
<span id="cb84-3"><a href="data-exploration.html#cb84-3" tabindex="-1"></a>  <span class="fu">left_join</span>(mortalities, <span class="at">by =</span> <span class="st">&quot;sheep_id&quot;</span>) <span class="sc">%&gt;%</span>  <span class="co">#join with mortalities table</span></span>
<span id="cb84-4"><a href="data-exploration.html#cb84-4" tabindex="-1"></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">&quot;F&quot;</span>) <span class="sc">%&gt;%</span>  <span class="co">#keep only ewes</span></span>
<span id="cb84-5"><a href="data-exploration.html#cb84-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lamb_status =</span> <span class="fu">case_when</span>(</span>
<span id="cb84-6"><a href="data-exploration.html#cb84-6" tabindex="-1"></a>      fate <span class="sc">==</span> <span class="st">&quot;weaned&quot;</span> <span class="sc">~</span> <span class="st">&quot;Alive&quot;</span>,  <span class="co">#weaned lambs are alive</span></span>
<span id="cb84-7"><a href="data-exploration.html#cb84-7" tabindex="-1"></a>      fate <span class="sc">==</span> <span class="st">&quot;deceased&quot;</span> <span class="sc">~</span> <span class="st">&quot;Dead&quot;</span>,  <span class="co">#deceased lambs are dead</span></span>
<span id="cb84-8"><a href="data-exploration.html#cb84-8" tabindex="-1"></a>      fate <span class="sc">==</span> <span class="st">&quot;unknwn&quot;</span> <span class="sc">~</span> <span class="st">&quot;Unknown&quot;</span>,  <span class="co">#lambs with unknown fate</span></span>
<span id="cb84-9"><a href="data-exploration.html#cb84-9" tabindex="-1"></a>      )) <span class="sc">%&gt;%</span></span>
<span id="cb84-10"><a href="data-exploration.html#cb84-10" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ewe_status =</span> <span class="fu">case_when</span>(</span>
<span id="cb84-11"><a href="data-exploration.html#cb84-11" tabindex="-1"></a>    <span class="fu">is.na</span>(cause) <span class="sc">~</span> <span class="st">&quot;Alive&quot;</span>, <span class="co">#ewes without cause of death are alive</span></span>
<span id="cb84-12"><a href="data-exploration.html#cb84-12" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(cause) <span class="sc">~</span> <span class="st">&quot;Dead&quot;</span> <span class="co">#ewes with a cause of death are dead</span></span>
<span id="cb84-13"><a href="data-exploration.html#cb84-13" tabindex="-1"></a>    )</span>
<span id="cb84-14"><a href="data-exploration.html#cb84-14" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb84-15"><a href="data-exploration.html#cb84-15" tabindex="-1"></a>  <span class="fu">select</span>(lamb_status,</span>
<span id="cb84-16"><a href="data-exploration.html#cb84-16" tabindex="-1"></a>         ewe_status) <span class="sc">%&gt;%</span></span>
<span id="cb84-17"><a href="data-exploration.html#cb84-17" tabindex="-1"></a>   <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(lamb_status, ewe_status), <span class="co">#pivot to count alive vs. dead</span></span>
<span id="cb84-18"><a href="data-exploration.html#cb84-18" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&quot;status_type&quot;</span>, </span>
<span id="cb84-19"><a href="data-exploration.html#cb84-19" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;status&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb84-20"><a href="data-exploration.html#cb84-20" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(status)) <span class="sc">%&gt;%</span>  <span class="co">#remove NAs</span></span>
<span id="cb84-21"><a href="data-exploration.html#cb84-21" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">status_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb84-22"><a href="data-exploration.html#cb84-22" tabindex="-1"></a>    status_type <span class="sc">==</span> <span class="st">&quot;lamb_status&quot;</span> <span class="sc">~</span> <span class="st">&quot;Lambs&quot;</span>, <span class="co">#change the names to make plot prettier</span></span>
<span id="cb84-23"><a href="data-exploration.html#cb84-23" tabindex="-1"></a>    status_type <span class="sc">==</span> <span class="st">&quot;ewe_status&quot;</span> <span class="sc">~</span> <span class="st">&quot;Ewes&quot;</span></span>
<span id="cb84-24"><a href="data-exploration.html#cb84-24" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb84-25"><a href="data-exploration.html#cb84-25" tabindex="-1"></a>  <span class="fu">count</span>(status_type, status) <span class="sc">%&gt;%</span> </span>
<span id="cb84-26"><a href="data-exploration.html#cb84-26" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> status, </span>
<span id="cb84-27"><a href="data-exploration.html#cb84-27" tabindex="-1"></a>                       <span class="at">y =</span> n, </span>
<span id="cb84-28"><a href="data-exploration.html#cb84-28" tabindex="-1"></a>                       <span class="at">fill =</span> status)) <span class="sc">+</span></span>
<span id="cb84-29"><a href="data-exploration.html#cb84-29" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb84-30"><a href="data-exploration.html#cb84-30" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>status_type, <span class="at">scales =</span> <span class="st">&quot;free_y&quot;</span>) <span class="sc">+</span> <span class="co">#facet for panels</span></span>
<span id="cb84-31"><a href="data-exploration.html#cb84-31" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>() <span class="sc">+</span>  <span class="co">#viridis color scheme</span></span>
<span id="cb84-32"><a href="data-exploration.html#cb84-32" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb84-33"><a href="data-exploration.html#cb84-33" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Ewe and Lamb Survival&quot;</span>,</span>
<span id="cb84-34"><a href="data-exploration.html#cb84-34" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span>,  <span class="co">#remove x-axis</span></span>
<span id="cb84-35"><a href="data-exploration.html#cb84-35" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Count&quot;</span></span>
<span id="cb84-36"><a href="data-exploration.html#cb84-36" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb84-37"><a href="data-exploration.html#cb84-37" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb84-38"><a href="data-exploration.html#cb84-38" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb84-39"><a href="data-exploration.html#cb84-39" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(),  <span class="co">#remove redudant labels</span></span>
<span id="cb84-40"><a href="data-exploration.html#cb84-40" tabindex="-1"></a>    <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb84-41"><a href="data-exploration.html#cb84-41" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="_main_files/figure-html/surival-1.png" width="672" /></p>
<p>Mortality was higher for adult ewes than I would have expected. Lamb mortality is about what I would expect for a growing sheep population.</p>
<hr />
<hr />
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-cleaning.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conclusion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/03-chp4.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
